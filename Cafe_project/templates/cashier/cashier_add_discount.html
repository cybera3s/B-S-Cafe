{% extends "cashier/_base.html" %}
{% block title %}Add New Discount{% endblock %}

{% block extra_head %}
<style>
@media only screen and (max-width: 680px) {
  .card-footer>button {
    width: 100%;
  }
}
@import url(https://fonts.googleapis.com/css?family=Dosis:700);
body {
  font-family: "Dosis", Helvetica, Arial, sans-serif;
  background: #ecf0f1;
  color: #34495e;
}
.value {
  text-align: center;
  font-weight: bold;
  font-size: 11vw;
  height: 100px;
  line-height: 60px;
  margin: 40px auto;
  letter-spacing: -.07em;
  text-shadow: white 2px 2px 2px;
}
input[type="range"] {
  display: block;
  -webkit-appearance: none;
  background-color: #bdc3c7;
  height: 5px;
  border-radius: 5px;
  margin: 0 auto;
  outline: 0;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  background-color: #e74c3c;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  border: 2px solid white;
  cursor: pointer;
  transition: .3s ease-in-out;
}â€‹
  input[type="range"]::-webkit-slider-thumb:hover {
    background-color: white;
    border: 2px solid #e74c3c;
  }
  input[type="range"]::-webkit-slider-thumb:active {
    transform: scale(1.6);
  }
</style>
{% endblock %}


{% block content_title %}
    Add Discount
{% endblock %}


{% block content_body %}
    <div class="row">

    <div class="col-12 col-sm-11 col-md-9 col-lg-7 col-xl-6 mx-auto">
        <div class="card card-primary">
            <div class="card-header">
                <h3 class="card-title">Add Discount</h3>
              </div>
              <!-- form start -->
              <form action="{{ url_for('cashier_add_discount') }}" method="POST">
                  {% with messages = get_flashed_messages(with_categories=true) %}
                  {% if messages %}
                   {% for status, message in messages %}

                    <div class="alert alert-{{ status }} alert-dismissible fade show" role="alert">

                                {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>

                    </div>
                  {% endfor %}
                {% endif %}
              {% endwith %}
                <div class="card-body">
                  <div class="form-group">
                      <label for="persentDiscount">Set Discount (between 0 to 100)</label>
                    <div class="value">0</div>
                    <input class="form-control-range" name="persentDiscount" type="range" min="0" max="100" step="1" value="0">
                  </div>
                </div>
                <!-- /.card-body -->

                <div class="card-footer">
                  <button type="submit" class="btn btn-primary btn-block">ADD</button>
                </div>
              </form>
            </div>
    </div>
    <!-- /.col-6 -->

    </div>
    <!-- /.row -->
{% endblock %}

{% block extra_footer %}
<script>
        var alertList = document.querySelectorAll('.alert')
        alertList.forEach(function (alert) {
          new bootstrap.Alert(alert)})
    </script>
<script>
var elem = document.querySelector('input[type="range"]');

var rangeValue = function(){
  var newValue = elem.value;
  var target = document.querySelector('.value');
  target.innerHTML = newValue + "%";
}

elem.addEventListener("input", rangeValue);
</script>
{% endblock %}

